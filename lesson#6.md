# Домашнее задание к занятию «Компьютерные сети. Лекция 2»

## Задание

1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?
```
Ответ:
Linux: ip link
vagrant@vagrant:~$ ip -c -br link
lo               UNKNOWN        00:00:00:00:00:00 <LOOPBACK,UP,LOWER_UP>
eth0             UP             08:00:27:1f:3f:cd <BROADCAST,MULTICAST,UP,LOWER_UP>

Windows: ipconfig/all
```
2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
```
Ответ:
Протокол: LLDP
пакет: lldpd
Команда: lldpctl
```
3. Какая технология используется для разделения L2-коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
```
Ответ:
Технология: VLAN
Пакет: iproute2 включает в себя инструменты для настройки сети. Основные команды, используемые для 
создания и настройки VLAN, включают ip, ip link, ip addr и ip route

Пример конфига:
# Создание виртуального интерфейса VLAN
ip link add link eth0 name eth0.100 type vlan id 100

# Включение виртуального интерфейса
ip link set dev eth0.100 up

# Настройка IP-адреса для виртуального интерфейса VLAN
ip addr add 192.168.1.10/24 dev eth0.100

# Добавление маршрута для виртуального интерфейса VLAN
ip route add default via 192.168.1.1 dev eth0.100
```
4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
```
Ответ:
Round Robin (rr): Пакеты равномерно распределяются между доступными интерфейсами. Не поддерживает отказоустойчивость.

Active Backup (activebackup): Один интерфейс активен, остальные в резервном режиме. При отказе активного интерфейса происходит автоматическое переключение на резервный.

XOR (xor): Выбор интерфейса основывается на исходном и целевом MAC-адресе пакета, что обеспечивает балансировку нагрузки. Не поддерживает отказоустойчивость.

Broadcast (broadcast): Все пакеты отправляются через все интерфейсы. Используется редко и не обеспечивает балансировку нагрузки.

IEEE 802.3ad (802.3ad): Использует протокол Link Aggregation Control Protocol (LACP) для согласования агрегации интерфейсов между коммутатором и хостом. Обеспечивает балансировку нагрузки и отказоустойчивость.

Пример конфигурации для агрегации интерфейсов с использованием типа 802.3ad (LACP):

# Создание файла конфигурации для агрегации интерфейсов
sudo nano /etc/sysconfig/network-scripts/ifcfg-bond0

# Конфигурация агрегации интерфейсов
DEVICE=bond0
NAME=bond0
TYPE=Bond
BONDING_MASTER=yes
BOOTPROTO=none
ONBOOT=yes
IPADDR=192.168.1.10
NETMASK=255.255.255.0
GATEWAY=192.168.1.1
BONDING_OPTS="mode=4 miimon=100"

# Конфигурация физических интерфейсов
sudo nano /etc/sysconfig/network-scripts/ifcfg-eth0
DEVICE=eth0
NAME=eth0
TYPE=Ethernet
ONBOOT=yes
MASTER=bond0
SLAVE=yes

sudo nano /etc/sysconfig/network-scripts/ifcfg-eth1
DEVICE=eth1
NAME=eth1
TYPE=Ethernet
ONBOOT=yes
MASTER=bond0
SLAVE=yes
```

5. Сколько IP-адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
```
Ответ: Сколько IP-адресов в сети с маской /29 - 6
vagrant@vagrant:~$ ipcalc 192.168.1.1/29
Address:   192.168.1.1          11000000.10101000.00000001.00000 001
Netmask:   255.255.255.248 = 29 11111111.11111111.11111111.11111 000
Wildcard:  0.0.0.7              00000000.00000000.00000000.00000 111
=>
Network:   192.168.1.0/29       11000000.10101000.00000001.00000 000
HostMin:   192.168.1.1          11000000.10101000.00000001.00000 001
HostMax:   192.168.1.6          11000000.10101000.00000001.00000 110
Broadcast: 192.168.1.7          11000000.10101000.00000001.00000 111
Hosts/Net: 6                     Class C, Private Internet

Ответ: Сколько /29 подсетей можно получить из сети с маской /24 - 32

vagrant@vagrant:~$ ipcalc -n 192.168.1.0/24 29
Address:   192.168.1.0          11000000.10101000.00000001. 00000000
Netmask:   255.255.255.0 = 24   11111111.11111111.11111111. 00000000
Wildcard:  0.0.0.255            00000000.00000000.00000000. 11111111
=>
Network:   192.168.1.0/24       11000000.10101000.00000001. 00000000
HostMin:   192.168.1.1          11000000.10101000.00000001. 00000001
HostMax:   192.168.1.254        11000000.10101000.00000001. 11111110
Broadcast: 192.168.1.255        11000000.10101000.00000001. 11111111
Hosts/Net: 254                   Class C, Private Internet

Subnets after transition from /24 to /29

Netmask:   255.255.255.248 = 29 11111111.11111111.11111111.11111 000
Wildcard:  0.0.0.7              00000000.00000000.00000000.00000 111

 1.
Network:   192.168.1.0/29       11000000.10101000.00000001.00000 000
HostMin:   192.168.1.1          11000000.10101000.00000001.00000 001
HostMax:   192.168.1.6          11000000.10101000.00000001.00000 110
Broadcast: 192.168.1.7          11000000.10101000.00000001.00000 111
Hosts/Net: 6                     Class C, Private Internet

 2.
Network:   192.168.1.8/29       11000000.10101000.00000001.00001 000
HostMin:   192.168.1.9          11000000.10101000.00000001.00001 001
HostMax:   192.168.1.14         11000000.10101000.00000001.00001 110
Broadcast: 192.168.1.15         11000000.10101000.00000001.00001 111
Hosts/Net: 6                     Class C, Private Internet
```
6. Задача: вас попросили организовать стык между двумя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP-адреса? Маску выберите из расчёта — максимум 40–50 хостов внутри подсети.
```
Ответ:
100.64.0.0/10, который предназначен для Carrier Grade NAT (CGN) и может быть использован для подобных сценариев.
маска /26, которая предоставляет 64 IP-адреса
```
7. Как проверить ARP-таблицу в Linux, Windows? Как очистить ARP-кеш полностью? Как из ARP-таблицы удалить только один нужный IP?
